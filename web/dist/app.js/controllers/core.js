(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define(["jquery","underscore","backbone","sprintf","views/appview"],function(t,r,i,s,o){var u;return u=function(r){function u(){return this.handleError=e(this.handleError,this),u.__super__.constructor.apply(this,arguments)}return n(u,r),u.prototype.routes={":controller(/*path)":"loadModuleRouter"},u.prototype.subRouters={},u.prototype.initialize=function(){return u.__super__.initialize.call(this),this.setResponseCachers(),i.history.start(),this.view=new o,this.view.render().$el.appendTo("body")},u.prototype.loadModuleRouter=function(e){var t,n=this;e=e.toLowerCase(),t=e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase();if(this.subRouters[e]==null&&e!=="core")return require(["controllers/"+e],function(r){return console.log(s("Starting controller %1$s ...",t)),n.subRouters[e]=new r(e)},function(e){return console.error(s("%1$s controller required but not found",t)),n.handleError(e)})},u.prototype.handleError=function(e){},u.prototype.setResponseCachers=function(){var e=this;return t.ajaxSetup({statusCode:{401:function(){return e.navigate("login",{trigger:!0})}}})},u}(i.Router)})}).call(this);