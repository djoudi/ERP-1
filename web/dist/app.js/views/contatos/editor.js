(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["jquery","underscore","backbone","models/contato","models/telefone","models/email","models/endereco","collections/contatos","text!templates/contatos/editor.html","backbone-forms-list","backbone-forms-inline-nestedmodels"],function(e,n,r,i,s,o,u,a,f){var l;return l=function(e){function a(){return a.__super__.constructor.apply(this,arguments)}return t(a,e),a.prototype.className="editor modal fade",a.prototype.template=n.template(f),a.prototype.initialize=function(e){return this.model==null&&(this.model=new i),this.form=new r.Form({model:this.model,schema:{nome:{type:"Text",title:"Nome"},pessoaJurica:{title:"Espécie",help:"Determina o tipo do cadastro",type:"Select",options:[{val:!0,label:"Pessoa Jurídica"},{val:!1,label:"Pessoa Física"}]},numeroDocumeno:{type:"Text",title:"CPF/CNPJ"},telefones:{type:"List",itemType:"InlineNestedModel",template:"listField",model:s,subSchema:{identificacao:{type:"Select",title:"Identificação",options:["Empresarial","Residencial","Celular"]},numero:{type:"Text",dataType:"tel",title:"Número"},operadora:{type:"Text",title:"Operadora"}}},emails:{type:"List",itemType:"InlineNestedModel",template:"listField",model:o,subSchema:{identificacao:{type:"Select",title:"Identificação",options:["Empresarial","Residencial","Celular"]},email:{type:"Text",dataType:"email",title:"E-mail"}}},enderecos:{type:"List",itemType:"InlineNestedModel",template:"listField",model:u,subSchema:{identificacao:{type:"Select",title:"Identificação",options:["Empresarial","Residencial","Celular"]},cep:{type:"Text",title:"CEP"},numero:{type:"Text",title:"Número"},logradouro:{type:"Text",title:"Logradouro"},localidade:{type:"Text",title:"Localidade"},uf:{type:"Select",title:"UF",options:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"]}}},descricao:{type:"TextArea",template:"listField",title:"Anotações"}},fieldsets:[{legend:"Dados Gerais",fields:["nome","pessoaJurica","numeroDocumeno"]},{legend:'<i class="icon-phone"></i> Telefone(s)',fields:["telefones"]},{legend:'<i class="icon-envelope"></i> E-mail(s)',fields:["emails"]},{legend:'<i class="icon-pushpin"></i> Endereco(s)',fields:["enderecos"]},{legend:"Anotações",fields:["descricao"]}]})},a.prototype.render=function(){return this.$el.html(this.template({contato:this.model.toJSON()})),this.$el.modal({keyboard:!0,backdrop:!0}),this.$(".modal-body").html(this.form.render().el),this},a}(r.View)})}).call(this);